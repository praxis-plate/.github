@startuml Architecture Overview - Variant 5 (Deployment View)
!theme plain
skinparam backgroundColor white

' Colors from praxis_flutter light theme (exact values)
' primary: #10B981, onPrimary: #FFFFFF
' card: #F5F5F7, onCard: #424242
' surface: #EEEEEF, onSurface: #212121
' divider: #E0E0E0

skinparam stereotypeC {
  BackgroundColor transparent
  BorderColor transparent
}

skinparam component {
  BackgroundColor<<primary>> #10B981
  BorderColor<<primary>> #059669
  FontColor<<primary>> #FFFFFF
  StereotypeFontColor<<primary>> transparent
  
  BackgroundColor<<accent>> #D1FAE5
  BorderColor<<accent>> #10B981
  FontColor<<accent>> #064E3B
  StereotypeFontColor<<accent>> transparent
  
  BackgroundColor<<secondary>> #E0F2FE
  BorderColor<<secondary>> #0EA5E9
  FontColor<<secondary>> #0C4A6E
  StereotypeFontColor<<secondary>> transparent
}

skinparam database {
  BackgroundColor #FFEDD5
  BorderColor #FB923C
  FontColor #7C2D12
}

skinparam node {
  BackgroundColor #FAFAFA
  BorderColor #E0E0E0
  FontColor #212121
}

skinparam cloud {
  BackgroundColor #F0F9FF
  BorderColor #BAE6FD
  FontColor #0369A1
}

skinparam arrow {
  Color #424242
  FontColor #424242
}

title Praxis Platform Architecture (Deployment)

node "Student Device                    " {
  component "    Flutter App    \n(iOS/Android/Web)" as App <<primary>> {
    component "praxis_client  \n\n(Generated Package)" as Client <<accent>>
  }
}

cloud "   Internet   " as Internet #F0F9FF

node "Server Infrastructure                    " {
  component "  Serverpod Server  \n        (Dart)        " as Server <<secondary>>
  database "  PostgreSQL  \n   (pgvector)   " as DB
  database "     Redis     \n    (Cache)    " as Cache
  
  Server -down-> DB : SQL
  Server -down-> Cache : Sessions
}

App -down-> Internet : HTTPS
Internet -down-> Server : RPC

note right of App
  <b>Clean Architecture + BLoC</b>
  
  • Features (UI + BLoC)
  • Domain (models, usecases)
  • Data (repositories, datasources)
  • Core (theme, router, widgets)
end note

note right of Client
  <b>Type-safe RPC Client</b>
  
  Auto-generated from
  server protocol
  Bundled with Flutter app
end note

note right of Server
  <b>Layered Architecture</b>
  
  • Endpoints (API layer)
  • Use Cases (orchestration)
  • Services (domain logic)
  • Data Sources (DB access)
end note

@enduml
